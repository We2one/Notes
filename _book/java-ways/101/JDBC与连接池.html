
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Jdbc与连接池 · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Java_函数式编程.html" />
    
    
    <link rel="prev" href="README.md" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Golang basic notes</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../../Golang-basic-notes/Day_01.html">
            
                <a href="../../Golang-basic-notes/Day_01.html">
            
                    
                    Day 01
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../../Golang-basic-notes/Day_02.html">
            
                <a href="../../Golang-basic-notes/Day_02.html">
            
                    
                    Day 02
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../../Golang-basic-notes/Day_03.html">
            
                <a href="../../Golang-basic-notes/Day_03.html">
            
                    
                    Day 03
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../../Golang-basic-notes/Day_04.html">
            
                <a href="../../Golang-basic-notes/Day_04.html">
            
                    
                    Day 04
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../../Golang-basic-notes/Day_05.html">
            
                <a href="../../Golang-basic-notes/Day_05.html">
            
                    
                    Day 05
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Java ways</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="README.md">
            
                <span>
            
                    
                    101
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="3.1.1" data-path="JDBC与连接池.html">
            
                <a href="JDBC与连接池.html">
            
                    
                    Jdbc与连接池
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="Java_函数式编程.html">
            
                <a href="Java_函数式编程.html">
            
                    
                    Java 函数式编程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="Spring框架基础.html">
            
                <a href="Spring框架基础.html">
            
                    
                    Spring框架基础
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../git/README.md">
            
                <span>
            
                    
                    Git
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="../git/git-basic.html">
            
                <a href="../git/git-basic.html">
            
                    
                    Git basic
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../leetcode101/README.md">
            
                <span>
            
                    
                    Leetcode101
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.3.1" data-path="../leetcode101/explores/README.md">
            
                <span>
            
                    
                    Explores
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.3.1.1" data-path="../leetcode101/explores/Arrays_Explor.html">
            
                <a href="../leetcode101/explores/Arrays_Explor.html">
            
                    
                    Arrays explor
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.3.2" data-path="../leetcode101/solutions/README.md">
            
                <span>
            
                    
                    Solutions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.3.2.1" data-path="../leetcode101/solutions/Duplicate_Zeros.html">
            
                <a href="../leetcode101/solutions/Duplicate_Zeros.html">
            
                    
                    Duplicate zeros
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.2.2" data-path="../leetcode101/solutions/Find_Even_Digits.html">
            
                <a href="../leetcode101/solutions/Find_Even_Digits.html">
            
                    
                    Find even digits
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../snippets/README.md">
            
                <span>
            
                    
                    Snippets
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="../snippets/Java_Data_Format各种范例.html">
            
                <a href="../snippets/Java_Data_Format各种范例.html">
            
                    
                    Java data format各种范例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="../snippets/Java与Oracle数据库各种操作.html">
            
                <a href="../snippets/Java与Oracle数据库各种操作.html">
            
                    
                    Java与oracle数据库各种操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="../snippets/Maven初始化template.html">
            
                <a href="../snippets/Maven初始化template.html">
            
                    
                    Maven初始化template
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.4" data-path="../snippets/终端033颜色.html">
            
                <a href="../snippets/终端033颜色.html">
            
                    
                    终端033颜色
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../ways/README.md">
            
                <span>
            
                    
                    Ways
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.2.1" data-path="../ways/java-ways-01.html">
            
                <a href="../ways/java-ways-01.html">
            
                    
                    Java ways 01
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Play</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../../play/youtube离线下载.html">
            
                <a href="../../play/youtube离线下载.html">
            
                    
                    Youtube离线下载
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Python basic notes</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../../python-basic-notes/python-days/README.md">
            
                <span>
            
                    
                    Python days
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1.1" data-path="../../python-basic-notes/python-days/Day_01.html">
            
                <a href="../../python-basic-notes/python-days/Day_01.html">
            
                    
                    Day 01
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.2" data-path="../../python-basic-notes/python-days/Day_02.html">
            
                <a href="../../python-basic-notes/python-days/Day_02.html">
            
                    
                    Day 02
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.3" data-path="../../python-basic-notes/python-days/Day_03.html">
            
                <a href="../../python-basic-notes/python-days/Day_03.html">
            
                    
                    Day 03
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.4" data-path="../../python-basic-notes/python-days/Day_04.html">
            
                <a href="../../python-basic-notes/python-days/Day_04.html">
            
                    
                    Day 04
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.5" data-path="../../python-basic-notes/python-days/Day_05.html">
            
                <a href="../../python-basic-notes/python-days/Day_05.html">
            
                    
                    Day 05
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.6" data-path="../../python-basic-notes/python-days/Day_06.html">
            
                <a href="../../python-basic-notes/python-days/Day_06.html">
            
                    
                    Day 06
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.7" data-path="../../python-basic-notes/python-days/Day_07.html">
            
                <a href="../../python-basic-notes/python-days/Day_07.html">
            
                    
                    Day 07
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.8" data-path="../../python-basic-notes/python-days/Day_08.html">
            
                <a href="../../python-basic-notes/python-days/Day_08.html">
            
                    
                    Day 08
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.9" data-path="../../python-basic-notes/python-days/Day_09.html">
            
                <a href="../../python-basic-notes/python-days/Day_09.html">
            
                    
                    Day 09
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.10" data-path="../../python-basic-notes/python-days/Day_10.html">
            
                <a href="../../python-basic-notes/python-days/Day_10.html">
            
                    
                    Day 10
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.11" data-path="../../python-basic-notes/python-days/Day_11.html">
            
                <a href="../../python-basic-notes/python-days/Day_11.html">
            
                    
                    Day 11
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.12" data-path="../../python-basic-notes/python-days/Day_12.html">
            
                <a href="../../python-basic-notes/python-days/Day_12.html">
            
                    
                    Day 12
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.13" data-path="../../python-basic-notes/python-days/Day_13.html">
            
                <a href="../../python-basic-notes/python-days/Day_13.html">
            
                    
                    Day 13
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.14" data-path="../../python-basic-notes/python-days/Day_14.html">
            
                <a href="../../python-basic-notes/python-days/Day_14.html">
            
                    
                    Day 14
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.15" data-path="../../python-basic-notes/python-days/Day_15.html">
            
                <a href="../../python-basic-notes/python-days/Day_15.html">
            
                    
                    Day 15
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.16" data-path="../../python-basic-notes/python-days/Day_16.html">
            
                <a href="../../python-basic-notes/python-days/Day_16.html">
            
                    
                    Day 16
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.17" data-path="../../python-basic-notes/python-days/Day_17.html">
            
                <a href="../../python-basic-notes/python-days/Day_17.html">
            
                    
                    Day 17
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.18" data-path="../../python-basic-notes/python-days/Day_18.html">
            
                <a href="../../python-basic-notes/python-days/Day_18.html">
            
                    
                    Day 18
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.19" data-path="../../python-basic-notes/python-days/Day_19.html">
            
                <a href="../../python-basic-notes/python-days/Day_19.html">
            
                    
                    Day 19
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.20" data-path="../../python-basic-notes/python-days/Day_20.html">
            
                <a href="../../python-basic-notes/python-days/Day_20.html">
            
                    
                    Day 20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.21" data-path="../../python-basic-notes/python-days/Day_21.html">
            
                <a href="../../python-basic-notes/python-days/Day_21.html">
            
                    
                    Day 21
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.22" data-path="../../python-basic-notes/python-days/Day_22.html">
            
                <a href="../../python-basic-notes/python-days/Day_22.html">
            
                    
                    Day 22
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.23" data-path="../../python-basic-notes/python-days/Day_23.html">
            
                <a href="../../python-basic-notes/python-days/Day_23.html">
            
                    
                    Day 23
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.24" data-path="../../python-basic-notes/python-days/Day_24.html">
            
                <a href="../../python-basic-notes/python-days/Day_24.html">
            
                    
                    Day 24
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.25" data-path="../../python-basic-notes/python-days/Day_25.html">
            
                <a href="../../python-basic-notes/python-days/Day_25.html">
            
                    
                    Day 25
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.26" data-path="../../python-basic-notes/python-days/Day_26.html">
            
                <a href="../../python-basic-notes/python-days/Day_26.html">
            
                    
                    Day 26
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.27" data-path="../../python-basic-notes/python-days/Day_27.html">
            
                <a href="../../python-basic-notes/python-days/Day_27.html">
            
                    
                    Day 27
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.28" data-path="../../python-basic-notes/python-days/Day_28.html">
            
                <a href="../../python-basic-notes/python-days/Day_28.html">
            
                    
                    Day 28
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.29" data-path="../../python-basic-notes/python-days/Day_29.html">
            
                <a href="../../python-basic-notes/python-days/Day_29.html">
            
                    
                    Day 29
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.30" data-path="../../python-basic-notes/python-days/Day_30.html">
            
                <a href="../../python-basic-notes/python-days/Day_30.html">
            
                    
                    Day 30
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.31" data-path="../../python-basic-notes/python-days/Day_31.html">
            
                <a href="../../python-basic-notes/python-days/Day_31.html">
            
                    
                    Day 31
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.32" data-path="../../python-basic-notes/python-days/Day_32.html">
            
                <a href="../../python-basic-notes/python-days/Day_32.html">
            
                    
                    Day 32
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.33" data-path="../../python-basic-notes/python-days/Day_33.html">
            
                <a href="../../python-basic-notes/python-days/Day_33.html">
            
                    
                    Day 33
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.34" data-path="../../python-basic-notes/python-days/Day_34.html">
            
                <a href="../../python-basic-notes/python-days/Day_34.html">
            
                    
                    Day 34
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.35" data-path="../../python-basic-notes/python-days/Day_35.html">
            
                <a href="../../python-basic-notes/python-days/Day_35.html">
            
                    
                    Day 35
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.36" data-path="../../python-basic-notes/python-days/SHELL_commit.html">
            
                <a href="../../python-basic-notes/python-days/SHELL_commit.html">
            
                    
                    Shell commit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.1.37" data-path="../../python-basic-notes/python-days/python_base.html">
            
                <a href="../../python-basic-notes/python-days/python_base.html">
            
                    
                    Python base
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Jdbc与连接池</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <pre><code class="lang-yaml"><span class="hljs-attr">   Author:</span> Gentleman.Hu
   Create Time: <span class="hljs-number">2020</span><span class="hljs-bullet">-10</span><span class="hljs-bullet">-03</span> <span class="hljs-number">15</span>:<span class="hljs-number">28</span>:<span class="hljs-number">51</span>
   Modified by: Gentleman.Hu
   Modified time: <span class="hljs-number">2020</span><span class="hljs-bullet">-10</span><span class="hljs-bullet">-07</span> <span class="hljs-number">16</span>:<span class="hljs-number">11</span>:<span class="hljs-number">55</span>
<span class="hljs-attr">   Email:</span> justfeelingme@gmail.com
<span class="hljs-attr">   Home:</span> https://crushing.xyz
<span class="hljs-attr">   Description:</span>
</code></pre>
<h2 id="jdbc&#x4E0E;&#x8FDE;&#x63A5;&#x6C60;">JDBC&#x4E0E;&#x8FDE;&#x63A5;&#x6C60;</h2>
<blockquote>
<p><a href="https://www.tutorialspoint.com/jdbc/jdbc-quick-guide.htm" target="_blank">QuickGuide</a>
Java DataBase COnnectivity</p>
</blockquote>
<h3 id="jdbc&#x4E0E;&#x57FA;&#x672C;crud">JDBC&#x4E0E;&#x57FA;&#x672C;CRUD</h3>
<h4 id="&#x57FA;&#x672C;">&#x57FA;&#x672C;</h4>
<ul>
<li><p>&#x57FA;&#x672C;&#x6B65;&#x9AA4;</p>
<ul>
<li>&#x6CE8;&#x518C;&#x9A71;&#x52A8;</li>
<li>&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;</li>
<li>&#x83B7;&#x53D6;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x5BF9;&#x8C61;(Connection)</li>
<li>&#x5B9A;&#x4E49;sql&#x8BED;&#x53E5;</li>
<li>&#x83B7;&#x53D6;sql&#x6267;&#x884C;&#x5BF9;&#x8C61;(Statement)</li>
<li>&#x6267;&#x884C;sql,&#x83B7;&#x53D6;&#x7ED3;&#x679C;</li>
<li>&#x5904;&#x7406;&#x7ED3;&#x679C;</li>
<li>&#x5173;&#x95ED;&#x8FDE;&#x63A5;,&#x91CA;&#x653E;&#x8D44;&#x6E90;</li>
</ul>
</li>
<li><p>OnAction</p>
<ol>
<li>&#x5F15;&#x5165;&#x5305;<code>import java.sql.*;</code></li>
<li>&#x6CE8;&#x518C;&#x9A71;&#x52A8;<code>Class.forName(&quot;com.mysql.jdbc.Driver)</code></li>
<li>&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;<pre><code class="lang-java">static final String USER = &quot;username&quot;;
static final String PASS = &quot;password&quot;;
System.out.println(&quot;Connecting to database...);
conn = DriverManager.getConnection(DB_URL,USER,PASS);
</code></pre>
</li>
<li>&#x6267;&#x884C;sql<pre><code class="lang-java">System.out.println(&quot;Creating statement ...);
stmt = conn.createStatement();
String sql;
sql = &quot;select * from one_table&quot;;
ResultSet rs = stmt.executeQuery(sql);
</code></pre>
</li>
<li><p>&#x5904;&#x7406;&#x7ED3;&#x679C;</p>
<pre><code class="lang-java"><span class="hljs-keyword">while</span>(rs.next()){
    <span class="hljs-keyword">int</span> id  = rs.getInt(<span class="hljs-string">&quot;id&quot;</span>);
<span class="hljs-keyword">int</span> age = rs.getInt(<span class="hljs-string">&quot;age&quot;</span>);
String first = rs.getString(<span class="hljs-string">&quot;first&quot;</span>);
String last = rs.getString(<span class="hljs-string">&quot;last&quot;</span>);

<span class="hljs-comment">//Display values</span>
System.out.print(<span class="hljs-string">&quot;ID: &quot;</span> + id);
System.out.print(<span class="hljs-string">&quot;, Age: &quot;</span> + age);
System.out.print(<span class="hljs-string">&quot;, First: &quot;</span> + first);
System.out.println(<span class="hljs-string">&quot;, Last: &quot;</span> + last);
}
</code></pre>
</li>
<li>&#x5173;&#x95ED;&#x8FDE;&#x63A5;,&#x91CA;&#x653E;&#x8D44;&#x6E90;<pre><code class="lang-java">rs.close();
stmt.close();
conn.close();
</code></pre>
</li>
</ol>
</li>
<li><p>Full</p>
</li>
</ul>
<pre><code class="lang-java">
  <span class="hljs-comment">//STEP 1. Import required packages</span>
<span class="hljs-keyword">import</span> java.sql.*;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FirstExample</span> </span>{
   <span class="hljs-comment">// JDBC driver name and database URL</span>
   <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String JDBC_DRIVER = <span class="hljs-string">&quot;com.mysql.jdbc.Driver&quot;</span>;  
   <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String DB_URL = <span class="hljs-string">&quot;jdbc:mysql://localhost/EMP&quot;</span>;

   <span class="hljs-comment">//  Database credentials</span>
   <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String USER = <span class="hljs-string">&quot;username&quot;</span>;
   <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String PASS = <span class="hljs-string">&quot;password&quot;</span>;

   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
   Connection conn = <span class="hljs-keyword">null</span>;
   Statement stmt = <span class="hljs-keyword">null</span>;
   <span class="hljs-keyword">try</span>{
      <span class="hljs-comment">//STEP 2: Register JDBC driver</span>
      Class.forName(<span class="hljs-string">&quot;com.mysql.jdbc.Driver&quot;</span>);

      <span class="hljs-comment">//STEP 3: Open a connection</span>
      System.out.println(<span class="hljs-string">&quot;Connecting to database...&quot;</span>);
      conn = DriverManager.getConnection(DB_URL,USER,PASS);

      <span class="hljs-comment">//STEP 4: Execute a query</span>
      System.out.println(<span class="hljs-string">&quot;Creating statement...&quot;</span>);
      stmt = conn.createStatement();
      String sql;
      sql = <span class="hljs-string">&quot;SELECT id, first, last, age FROM Employees&quot;</span>;
      ResultSet rs = stmt.executeQuery(sql);

      <span class="hljs-comment">//STEP 5: Extract data from result set</span>
      <span class="hljs-keyword">while</span>(rs.next()){
         <span class="hljs-comment">//Retrieve by column name</span>
         <span class="hljs-keyword">int</span> id  = rs.getInt(<span class="hljs-string">&quot;id&quot;</span>);
         <span class="hljs-keyword">int</span> age = rs.getInt(<span class="hljs-string">&quot;age&quot;</span>);
         String first = rs.getString(<span class="hljs-string">&quot;first&quot;</span>);
         String last = rs.getString(<span class="hljs-string">&quot;last&quot;</span>);

         <span class="hljs-comment">//Display values</span>
         System.out.print(<span class="hljs-string">&quot;ID: &quot;</span> + id);
         System.out.print(<span class="hljs-string">&quot;, Age: &quot;</span> + age);
         System.out.print(<span class="hljs-string">&quot;, First: &quot;</span> + first);
         System.out.println(<span class="hljs-string">&quot;, Last: &quot;</span> + last);
      }
      <span class="hljs-comment">//STEP 6: Clean-up environment</span>
      rs.close();
      stmt.close();
      conn.close();
   }<span class="hljs-keyword">catch</span>(SQLException se){
      <span class="hljs-comment">//Handle errors for JDBC</span>
      se.printStackTrace();
   }<span class="hljs-keyword">catch</span>(Exception e){
      <span class="hljs-comment">//Handle errors for Class.forName</span>
      e.printStackTrace();
   }<span class="hljs-keyword">finally</span>{
      <span class="hljs-comment">//finally block used to close resources</span>
      <span class="hljs-keyword">try</span>{
         <span class="hljs-keyword">if</span>(stmt!=<span class="hljs-keyword">null</span>)
            stmt.close();
      }<span class="hljs-keyword">catch</span>(SQLException se2){
      }<span class="hljs-comment">// nothing we can do</span>
      <span class="hljs-keyword">try</span>{
         <span class="hljs-keyword">if</span>(conn!=<span class="hljs-keyword">null</span>)
            conn.close();
      }<span class="hljs-keyword">catch</span>(SQLException se){
         se.printStackTrace();
      }<span class="hljs-comment">//end finally try</span>
   }<span class="hljs-comment">//end try</span>
   System.out.println(<span class="hljs-string">&quot;Goodbye!&quot;</span>);
}<span class="hljs-comment">//end main</span>
}<span class="hljs-comment">//end FirstExample</span>
</code></pre>
<ul>
<li>&#x76F8;&#x5173;Exception&#x8868;&#x4E00;&#x89C8;</li>
</ul>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>getErrorCode( )</td>
<td>Gets the error number associated with the exception.</td>
</tr>
<tr>
<td>getMessage( )</td>
<td>Gets the JDBC driver&apos;s error message for an error handled by the driver or gets the Oracle error number and message for a database error.</td>
</tr>
<tr>
<td>getSQLState( )</td>
<td>Gets the XOPEN SQLstate string. For a JDBC driver error, no useful information is returned from this method. For a database error, the five-digit XOPEN SQLstate code is returned. This method can return null.</td>
</tr>
<tr>
<td>getNextException( )</td>
<td>Gets the next Exception object in the exception chain.</td>
</tr>
<tr>
<td>printStackTrace( )</td>
<td>Prints the current exception, or throwable, and its backtrace to a standard error stream.</td>
</tr>
<tr>
<td>printStackTrace(PrintStream s)</td>
<td>Prints this throwable and its backtrace to the print stream you specify.</td>
</tr>
<tr>
<td>printStackTrace(PrintWriter w)</td>
<td>Prints this throwable and its backtrace to the print writer you specify.</td>
</tr>
</tbody>
</table>
<ul>
<li>&#x7528;try catch finally&#x5305;&#x88F9;</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">try</span> {
   <span class="hljs-comment">// Your risky code goes between these curly braces!!!</span>
}
<span class="hljs-keyword">catch</span>(Exception ex) {
   <span class="hljs-comment">// Your exception handling code goes between these </span>
   <span class="hljs-comment">// curly braces, similar to the exception clause </span>
   <span class="hljs-comment">// in a PL/SQL block.</span>
}
<span class="hljs-keyword">finally</span> {
   <span class="hljs-comment">// Your must-always-be-executed code goes between these </span>
   <span class="hljs-comment">// curly braces. Like closing database connection.</span>
}
</code></pre>
<ul>
<li>JDBC &#x4E2D;Data &#x7C7B;&#x578B;&#x5BF9;&#x5E94;&#x8868;</li>
</ul>
<table>
<thead>
<tr>
<th>SQL</th>
<th>JDBC/Java</th>
<th>setXXX</th>
<th>updateXXX</th>
</tr>
</thead>
<tbody>
<tr>
<td>VARCHAR</td>
<td>java.lang.String</td>
<td>setString</td>
<td>updateString</td>
</tr>
<tr>
<td>CHAR</td>
<td>java.lang.String</td>
<td>setString</td>
<td>updateString</td>
</tr>
<tr>
<td>LONGVARCHAR</td>
<td>java.lang.String</td>
<td>setString</td>
<td>updateString</td>
</tr>
<tr>
<td>BIT</td>
<td>boolean</td>
<td>setBoolean</td>
<td>updateBoolean</td>
</tr>
<tr>
<td>NUMERIC</td>
<td>java.math.BigDecimal</td>
<td>setBigDecimal</td>
<td>updateBigDecimal</td>
</tr>
<tr>
<td>TINYINT</td>
<td>byte</td>
<td>setByte</td>
<td>updateByte</td>
</tr>
<tr>
<td>SMALLINT</td>
<td>short</td>
<td>setShort</td>
<td>updateShort</td>
</tr>
<tr>
<td>INTEGER</td>
<td>int</td>
<td>setInt</td>
<td>updateInt</td>
</tr>
<tr>
<td>BIGINT</td>
<td>long</td>
<td>setLong</td>
<td>updateLong</td>
</tr>
<tr>
<td>REAL</td>
<td>float</td>
<td>setFloat</td>
<td>updateFloat</td>
</tr>
<tr>
<td>FLOAT</td>
<td>float</td>
<td>setFloat</td>
<td>updateFloat</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>double</td>
<td>setDouble</td>
<td>updateDouble</td>
</tr>
<tr>
<td>VARBINARY</td>
<td>byte[ ]</td>
<td>setBytes</td>
<td>updateBytes</td>
</tr>
<tr>
<td>BINARY</td>
<td>byte[ ]</td>
<td>setBytes</td>
<td>updateBytes</td>
</tr>
<tr>
<td>DATE</td>
<td>java.sql.Date</td>
<td>setDate</td>
<td>updateDate</td>
</tr>
<tr>
<td>TIME</td>
<td>java.sql.Time</td>
<td>setTime</td>
<td>updateTime</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>java.sql.Timestamp</td>
<td>setTimestamp</td>
<td>updateTimestamp</td>
</tr>
<tr>
<td>CLOB</td>
<td>java.sql.Clob</td>
<td>setClob</td>
<td>updateClob</td>
</tr>
<tr>
<td>BLOB</td>
<td>java.sql.Blob</td>
<td>setBlob</td>
<td>updateBlob</td>
</tr>
<tr>
<td>ARRAY</td>
<td>java.sql.Array</td>
<td>setARRAY</td>
<td>updateARRAY</td>
</tr>
<tr>
<td>REF</td>
<td>java.sql.Ref</td>
<td>SetRef</td>
<td>updateRef</td>
</tr>
<tr>
<td>STRUCT</td>
<td>java.sql.Struct</td>
<td>SetStruct</td>
<td>updateStruct</td>
</tr>
</tbody>
</table>
<ul>
<li>&#x6279;&#x5904;&#x7406; JDBC - Batch Processing</li>
</ul>
<p>Batch Processing allows you to group related SQL statements into a batch and submit them with one call to the database.</p>
<p>When you send several SQL statements to the database at once, you reduce the amount of communication overhead, thereby improving performance.</p>
<ul>
<li>JDBC drivers are not required to support this feature. You should use the <em>DatabaseMetaData.supportsBatchUpdates()</em> method to determine if the target database supports batch update processing. The method returns true if your JDBC driver supports this feature.</li>
<li>The <strong>addBatch()</strong> method of <em>Statement, PreparedStatement,</em> and <em>CallableStatement</em> is used to add individual statements to the batch. The <strong>executeBatch()</strong> is used to start the execution of all the statements grouped together.</li>
<li>The <strong>executeBatch()</strong> returns an array of integers, and each element of the array represents the update count for the respective update statement.</li>
<li><p>Just as you can add statements to a batch for processing, you can remove them with the <strong>clearBatch()</strong> method. This method removes all the statements you added with the addBatch() method. However, you cannot selectively choose which statement to remove.</p>
</li>
<li><p>Streaming Data(&#x6D41;):</p>
</li>
</ul>
<p>A PreparedStatement object has the ability to use input and output streams to supply parameter data. This enables you to place entire files into database columns that can hold large values, such as CLOB and BLOB data types.</p>
<p>There are following methods which can be used to stream data:</p>
<ul>
<li><strong>setAsciiStream():</strong> This method is used to supply large ASCII values.</li>
<li><strong>setCharacterStream():</strong> This method is used to supply large UNICODE values.</li>
<li><strong>setBinaryStream():</strong> This method is used to supply large binary values.</li>
</ul>
<p>The setXXXStream() method requires an extra parameter, the file size, besides the parameter placeholder. This parameter informs the driver how much data should be sent to the database using the stream.</p>
<h4 id="&#x4E8B;&#x52A1;">&#x4E8B;&#x52A1;</h4>
<blockquote>
<p>&#x4E8B;&#x52A1;&#xFF1A;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x591A;&#x4E2A;&#x6B65;&#x9AA4;&#x7684;&#x4E1A;&#x52A1;&#x64CD;&#x4F5C;&#x3002;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x4E1A;&#x52A1;&#x64CD;&#x4F5C;&#x88AB;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#xFF0C;&#x5219;&#x8FD9;&#x591A;&#x4E2A;&#x6B65;&#x9AA4;&#x8981;&#x4E48;&#x540C;&#x65F6;&#x6210;&#x529F;&#xFF0C;&#x8981;&#x4E48;&#x540C;&#x65F6;&#x5931;&#x8D25;&#x3002;</p>
</blockquote>
<p>&#x4F7F;&#x7528;Connection&#x5BF9;&#x8C61;&#x6765;&#x7BA1;&#x7406;&#x4E8B;&#x52A1;</p>
<ul>
<li>&#x5F00;&#x542F;&#x4E8B;&#x52A1;&#xFF1A;setAutoCommit(boolean autoCommit) &#xFF1A;&#x8C03;&#x7528;&#x8BE5;&#x65B9;&#x6CD5;&#x8BBE;&#x7F6E;&#x53C2;&#x6570;&#x4E3A;false&#xFF0C;&#x5373;&#x5F00;&#x542F;&#x4E8B;&#x52A1;</li>
<li>&#x5728;&#x6267;&#x884C;sql&#x4E4B;&#x524D;&#x5F00;&#x542F;&#x4E8B;&#x52A1;</li>
<li>&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;&#xFF1A;commit() </li>
<li>&#x5F53;&#x6240;&#x6709;sql&#x90FD;&#x6267;&#x884C;&#x5B8C;&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;</li>
<li>&#x56DE;&#x6EDA;&#x4E8B;&#x52A1;&#xFF1A;rollback() </li>
<li><p>&#x5728;catch&#x4E2D;&#x56DE;&#x6EDA;&#x4E8B;&#x52A1;</p>
</li>
<li><p>&#x7B80;&#x5355;demo</p>
<pre><code class="lang-java">  <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JDBCDemo10</span> </span>{

      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
          Connection conn = <span class="hljs-keyword">null</span>;
          PreparedStatement pstmt1 = <span class="hljs-keyword">null</span>;
          PreparedStatement pstmt2 = <span class="hljs-keyword">null</span>;

          <span class="hljs-keyword">try</span> {
              <span class="hljs-comment">//1.&#x83B7;&#x53D6;&#x8FDE;&#x63A5;</span>
              conn = JDBCUtils.getConnection();
              <span class="hljs-comment">//&#x5F00;&#x542F;&#x4E8B;&#x52A1;</span>
              conn.setAutoCommit(<span class="hljs-keyword">false</span>);

              <span class="hljs-comment">//2.&#x5B9A;&#x4E49;sql</span>
              <span class="hljs-comment">//2.1 &#x5F20;&#x4E09; - 500</span>
              String sql1 = <span class="hljs-string">&quot;update account set balance = balance - ? where id = ?&quot;</span>;
              <span class="hljs-comment">//2.2 &#x674E;&#x56DB; + 500</span>
              String sql2 = <span class="hljs-string">&quot;update account set balance = balance + ? where id = ?&quot;</span>;
              <span class="hljs-comment">//3.&#x83B7;&#x53D6;&#x6267;&#x884C;sql&#x5BF9;&#x8C61;</span>
              pstmt1 = conn.prepareStatement(sql1);
              pstmt2 = conn.prepareStatement(sql2);
              <span class="hljs-comment">//4. &#x8BBE;&#x7F6E;&#x53C2;&#x6570;</span>
              pstmt1.setDouble(<span class="hljs-number">1</span>,<span class="hljs-number">500</span>);
              pstmt1.setInt(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>);

              pstmt2.setDouble(<span class="hljs-number">1</span>,<span class="hljs-number">500</span>);
              pstmt2.setInt(<span class="hljs-number">2</span>,<span class="hljs-number">2</span>);
              <span class="hljs-comment">//5.&#x6267;&#x884C;sql</span>
              pstmt1.executeUpdate();
              <span class="hljs-comment">// &#x624B;&#x52A8;&#x5236;&#x9020;&#x5F02;&#x5E38;</span>
              <span class="hljs-keyword">int</span> i = <span class="hljs-number">3</span>/<span class="hljs-number">0</span>;

              pstmt2.executeUpdate();
              <span class="hljs-comment">//&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;</span>
              conn.commit();
          } <span class="hljs-keyword">catch</span> (Exception e) {
              <span class="hljs-comment">//&#x4E8B;&#x52A1;&#x56DE;&#x6EDA;</span>
              <span class="hljs-keyword">try</span> {
                  <span class="hljs-keyword">if</span>(conn != <span class="hljs-keyword">null</span>) {
                      conn.rollback();
                  }
              } <span class="hljs-keyword">catch</span> (SQLException e1) {
                  e1.printStackTrace();
              }
              e.printStackTrace();
          }<span class="hljs-keyword">finally</span> {
              JDBCUtils.close(pstmt1,conn);
              JDBCUtils.close(pstmt2,<span class="hljs-keyword">null</span>);
          }
</code></pre>
</li>
</ul>
<h3 id="&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#x4E0E;jdbc-template">&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#x4E0E;JDBC Template</h3>
<blockquote>
<p><a href="https://www.progress.com/tutorials/jdbc/jdbc-jdbc-connection-pooling" target="_blank">jdbc-jdbc-connection-pooling</a></p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/gentlemanhu/public-store/images/20201007145250.png" alt=""></p>
<h4 id="&#x57FA;&#x7840;&#x8FDE;&#x63A5;&#x6C60;">&#x57FA;&#x7840;&#x8FDE;&#x63A5;&#x6C60;</h4>
<blockquote>
<p>&#x4E00;&#x4E2A;&#x5BB9;&#x5668;(&#x96C6;&#x5408;)&#xFF0C;&#x5B58;&#x653E;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x7684;&#x5BB9;&#x5668;&#x3002;
  &#x5F53;&#x7CFB;&#x7EDF;&#x521D;&#x59CB;&#x5316;&#x597D;&#x540E;&#xFF0C;&#x5BB9;&#x5668;&#x88AB;&#x521B;&#x5EFA;&#xFF0C;&#x5BB9;&#x5668;&#x4E2D;&#x4F1A;&#x7533;&#x8BF7;&#x4E00;&#x4E9B;&#x8FDE;&#x63A5;&#x5BF9;&#x8C61;&#xFF0C;&#x5F53;&#x7528;&#x6237;&#x6765;&#x8BBF;&#x95EE;&#x6570;&#x636E;&#x5E93;&#x65F6;&#xFF0C;&#x4ECE;&#x5BB9;&#x5668;&#x4E2D;&#x83B7;&#x53D6;&#x8FDE;&#x63A5;&#x5BF9;&#x8C61;&#xFF0C;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x5B8C;&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x5C06;&#x8FDE;&#x63A5;&#x5BF9;&#x8C61;&#x5F52;&#x8FD8;&#x7ED9;&#x5BB9;&#x5668;&#x3002;</p>
</blockquote>
<ol>
<li><p>&#x597D;&#x5904;&#xFF1A;</p>
<ol>
<li>&#x8282;&#x7EA6;&#x8D44;&#x6E90;</li>
<li>&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x9AD8;&#x6548;</li>
</ol>
</li>
<li><p>&#x5B9E;&#x73B0;&#xFF1A;
  &#x6807;&#x51C6;&#x63A5;&#x53E3;&#xFF1A;DataSource   javax.sql&#x5305;&#x4E0B;&#x7684;</p>
</li>
<li><p>&#x65B9;&#x6CD5;&#xFF1A;</p>
<ul>
<li>&#x83B7;&#x53D6;&#x8FDE;&#x63A5;&#xFF1A;getConnection()</li>
<li>&#x5F52;&#x8FD8;&#x8FDE;&#x63A5;&#xFF1A;Connection.close()&#x3002;&#x5982;&#x679C;&#x8FDE;&#x63A5;&#x5BF9;&#x8C61;Connection&#x662F;&#x4ECE;&#x8FDE;&#x63A5;&#x6C60;&#x4E2D;&#x83B7;&#x53D6;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x8C03;&#x7528;Connection.close()&#x65B9;&#x6CD5;&#xFF0C;&#x5219;&#x4E0D;&#x4F1A;&#x518D;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#x4E86;&#x3002;&#x800C;&#x662F;&#x91CA;&#x653E;&#x8FDE;&#x63A5;</li>
</ul>
</li>
<li><p>&#x51E0;&#x4E2A;&#x5E38;&#x89C1;&#x5382;&#x5546;&#x5B9E;&#x73B0;&#x7684;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;</p>
<ol>
<li>C3P0&#xFF1A;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#x6280;&#x672F;</li>
<li>Druid&#xFF1A;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#x5B9E;&#x73B0;&#x6280;&#x672F;&#xFF0C;&#x7531;&#x963F;&#x91CC;&#x5DF4;&#x5DF4;&#x63D0;&#x4F9B;&#x7684;</li>
</ol>
</li>
<li><p>c3p0&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p>
<ul>
<li><code>c3p0.properties</code>&#x6216;&#x8005;<code>c3p0-config.xml</code></li>
<li>&#x76F4;&#x63A5;&#x653E;&#x7F6E;&#x5728;<code>src</code>&#x76EE;&#x5F55;&#x5373;&#x53EF;</li>
</ul>
</li>
<li><p>c3p0&#x521B;&#x5EFA;&#x8FC7;&#x7A0B;</p>
<ul>
<li>ComboPooledDataSource</li>
<li>getConnection</li>
</ul>
<pre><code class="lang-java">DataSource ds = <span class="hljs-keyword">new</span> ComboPooleddataSource();
Connection conn = ds.getConnection();
</code></pre>
</li>
<li><p>Druid:</p>
<ul>
<li>&#x914D;&#x7F6E;&#x6587;&#x4EF6;<ul>
<li>&#x53EF;&#x4EE5;properties</li>
<li>&#x53EF;&#x4EE5;&#x4EFB;&#x610F;&#x540D;&#x79F0;,&#x4EFB;&#x610F;&#x4F4D;&#x7F6E;</li>
</ul>
</li>
<li>&#x8FC7;&#x7A0B;<ul>
<li>&#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#x6587;&#x4EF6;.Properties</li>
<li>&#x901A;&#x8FC7;&#x5DE5;&#x5382;&#x83B7;&#x53D6;&#x8FDE;&#x63A5;&#x6C60;&#x5BF9;&#x8C61;.<code>DruidDataSourceFactory</code></li>
<li>&#x83B7;&#x53D6;&#x8FDE;&#x63A5;:<code>getConnection</code></li>
</ul>
</li>
</ul>
<pre><code class="lang-java">Properties pro = <span class="hljs-keyword">new</span> Properties();
InputStream is = DruidDemo.class.getClassLoader().getResourceAsStream(<span class="hljs-string">&quot;druid.properties&quot;</span>);
pro.load(is);

DataSource ds = DruidDataSourceFactory.createDataSource(pro);

Connection conn = ds.getConnection();
</code></pre>
<ul>
<li>Full in util class</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JDBCUtils</span> </span>{

          <span class="hljs-comment">//1.&#x5B9A;&#x4E49;&#x6210;&#x5458;&#x53D8;&#x91CF; DataSource</span>
          <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> DataSource ds ;

          <span class="hljs-keyword">static</span>{
              <span class="hljs-keyword">try</span> {
                  <span class="hljs-comment">//1.&#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span>
                  Properties pro = <span class="hljs-keyword">new</span> Properties();
                  pro.load(JDBCUtils.class.getClassLoader().getResourceAsStream(<span class="hljs-string">&quot;druid.properties&quot;</span>));
                  <span class="hljs-comment">//2.&#x83B7;&#x53D6;DataSource</span>
                  ds = DruidDataSourceFactory.createDataSource(pro);
              } <span class="hljs-keyword">catch</span> (IOException e) {
                  e.printStackTrace();
              } <span class="hljs-keyword">catch</span> (Exception e) {
                  e.printStackTrace();
              }
          }

          <span class="hljs-comment">/**
           * &#x83B7;&#x53D6;&#x8FDE;&#x63A5;
           */</span>
          <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Connection <span class="hljs-title">getConnection</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> SQLException </span>{
              <span class="hljs-keyword">return</span> ds.getConnection();
          }

          <span class="hljs-comment">/**
           * &#x91CA;&#x653E;&#x8D44;&#x6E90;
           */</span>
          <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">close</span><span class="hljs-params">(Statement stmt,Connection conn)</span></span>{
             <span class="hljs-comment">/* if(stmt != null){
                  try {
                      stmt.close();
                  } catch (SQLException e) {
                      e.printStackTrace();
                  }
              }

              if(conn != null){
                  try {
                      conn.close();//&#x5F52;&#x8FD8;&#x8FDE;&#x63A5;
                  } catch (SQLException e) {
                      e.printStackTrace();
                  }
              }*/</span>

             close(<span class="hljs-keyword">null</span>,stmt,conn);
          }
          <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">close</span><span class="hljs-params">(ResultSet rs , Statement stmt, Connection conn)</span></span>{
              <span class="hljs-keyword">if</span>(rs != <span class="hljs-keyword">null</span>){
                <span class="hljs-keyword">try</span> {
                    rs.close();
                } <span class="hljs-keyword">catch</span> (SQLException e) {
                    e.printStackTrace();
                }
            }

                   <span class="hljs-keyword">if</span>(stmt != <span class="hljs-keyword">null</span>){
                  <span class="hljs-keyword">try</span> {
                      stmt.close();
                  } <span class="hljs-keyword">catch</span> (SQLException e) {
                      e.printStackTrace();
                  }
              }

              <span class="hljs-keyword">if</span>(conn != <span class="hljs-keyword">null</span>){
                  <span class="hljs-keyword">try</span> {
                      conn.close();<span class="hljs-comment">//&#x5F52;&#x8FD8;&#x8FDE;&#x63A5;</span>
                  } <span class="hljs-keyword">catch</span> (SQLException e) {
                      e.printStackTrace();
                  }
              }
          }

          <span class="hljs-comment">/**
           * &#x83B7;&#x53D6;&#x8FDE;&#x63A5;&#x6C60;&#x65B9;&#x6CD5;
           */</span>

          <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> DataSource <span class="hljs-title">getDataSource</span><span class="hljs-params">()</span></span>{
              <span class="hljs-keyword">return</span>  ds;
          }

      }
</code></pre>
</li>
</ol>
<h4 id="spring-jdbc">Spring JDBC</h4>
<blockquote>
<p><a href="https://spring.io/guides/gs/relational-data-access/" target="_blank">Spring_Guide</a>
<a href="https://www.javatpoint.com/spring-JdbcTemplate-tutorial" target="_blank">JavaPointTutorial</a></p>
</blockquote>
<ul>
<li>Spring JDBCTemplate class method table</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">No.</th>
<th style="text-align:left">Method</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1)</td>
<td style="text-align:left">public int update(String query)</td>
<td style="text-align:left">is used to insert, update and delete records.</td>
</tr>
<tr>
<td style="text-align:left">2)</td>
<td style="text-align:left">public int update(String query,Object... args)</td>
<td style="text-align:left">is used to insert, update and delete records using PreparedStatement using given arguments.</td>
</tr>
<tr>
<td style="text-align:left">3)</td>
<td style="text-align:left">public void execute(String query)</td>
<td style="text-align:left">is used to execute DDL query.</td>
</tr>
<tr>
<td style="text-align:left">4)</td>
<td style="text-align:left">public T execute(String sql, PreparedStatementCallback action)</td>
<td style="text-align:left">executes the query by using PreparedStatement callback.</td>
</tr>
<tr>
<td style="text-align:left">5)</td>
<td style="text-align:left">public T query(String sql, ResultSetExtractor rse)</td>
<td style="text-align:left">is used to fetch records using ResultSetExtractor.</td>
</tr>
<tr>
<td style="text-align:left">6)</td>
<td style="text-align:left">public List query(String sql, RowMapper rse)</td>
<td style="text-align:left">is used to fetch records using RowMapper.</td>
</tr>
</tbody>
</table>
<ul>
<li>Employee.java</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Employee</span> </span>{  
<span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;  
<span class="hljs-keyword">private</span> String name;  
<span class="hljs-keyword">private</span> <span class="hljs-keyword">float</span> salary;  
<span class="hljs-comment">//no-arg and parameterized constructors  </span>
<span class="hljs-comment">//getters and setters  </span>
}
</code></pre>
<ul>
<li>EmployeeDao.java</li>
</ul>
<pre><code class="lang-java">import org.springframework.jdbc.core.JdbcTemplate;  

public class EmployeeDao {  
private JdbcTemplate jdbcTemplate;  

public void setJdbcTemplate(JdbcTemplate jdbcTemplate) {  
    this.jdbcTemplate = jdbcTemplate;  
}  

public int saveEmployee(Employee e){  
    String query=&quot;insert into employee values(  
    &apos;&quot;+e.getId()+&quot;&apos;,&apos;&quot;+e.getName()+&quot;&apos;,&apos;&quot;+e.getSalary()+&quot;&apos;)&quot;;  
    return jdbcTemplate.update(query);  
}  
public int updateEmployee(Employee e){  
    String query=&quot;update employee set   
    name=&apos;&quot;+e.getName()+&quot;&apos;,salary=&apos;&quot;+e.getSalary()+&quot;&apos; where id=&apos;&quot;+e.getId()+&quot;&apos; &quot;;  
    return jdbcTemplate.update(query);  
}  
public int deleteEmployee(Employee e){  
    String query=&quot;delete from employee where id=&apos;&quot;+e.getId()+&quot;&apos; &quot;;  
    return jdbcTemplate.update(query);  
}  

}
</code></pre>
<ul>
<li>applicationContext.xml</li>
</ul>
<pre><code class="lang-xml"><span class="php"><span class="hljs-meta">&lt;?</span>xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span><span class="hljs-meta">?&gt;</span></span>  
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span>  
    <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span>  
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>  
    <span class="hljs-attr">xmlns:p</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/p&quot;</span>  
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans   
http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;</span>&gt;</span>  

<span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;ds&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;</span>&gt;</span>  
<span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driverClassName&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;oracle.jdbc.driver.OracleDriver&quot;</span> /&gt;</span>  
<span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;jdbc:oracle:thin:@localhost:1521:xe&quot;</span> /&gt;</span>  
<span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;system&quot;</span> /&gt;</span>  
<span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;oracle&quot;</span> /&gt;</span>  
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>  

<span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;jdbcTemplate&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span>&gt;</span>  
<span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;ds&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>  
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>  

<span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;edao&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.javatpoint.EmployeeDao&quot;</span>&gt;</span>  
<span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;jdbcTemplate&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;jdbcTemplate&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>  
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>  

<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span>
</code></pre>
<ul>
<li>Test.java</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">import</span> org.springframework.context.ApplicationContext;  
<span class="hljs-keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;  
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span> </span>{  

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{  
    ApplicationContext ctx=<span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">&quot;applicationContext.xml&quot;</span>);  

    EmployeeDao dao=(EmployeeDao)ctx.getBean(<span class="hljs-string">&quot;edao&quot;</span>);  
    <span class="hljs-keyword">int</span> status=dao.saveEmployee(<span class="hljs-keyword">new</span> Employee(<span class="hljs-number">102</span>,<span class="hljs-string">&quot;Amit&quot;</span>,<span class="hljs-number">35000</span>));  
    System.out.println(status);  

    <span class="hljs-comment">/*int status=dao.updateEmployee(new Employee(102,&quot;Sonoo&quot;,15000)); 
    System.out.println(status); 
    */</span>  

    <span class="hljs-comment">/*Employee e=new Employee(); 
    e.setId(102); 
    int status=dao.deleteEmployee(e); 
    System.out.println(status);*/</span>  

}  

}
</code></pre>
<h4 id="anothernot-written-by-gentlemanhu">Another(Not written by Gentleman.Hu)</h4>
<ul>
<li>Spring&#x6846;&#x67B6;&#x5BF9;JDBC&#x7684;&#x7B80;&#x5355;&#x5C01;&#x88C5;&#x3002;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;JDBCTemplate&#x5BF9;&#x8C61;&#x7B80;&#x5316;JDBC&#x7684;&#x5F00;&#x53D1;</li>
<li>&#x6B65;&#x9AA4;&#xFF1A;</li>
<li>&#x5BFC;&#x5165;jar&#x5305;</li>
<li><p>&#x521B;&#x5EFA;JdbcTemplate&#x5BF9;&#x8C61;&#x3002;&#x4F9D;&#x8D56;&#x4E8E;&#x6570;&#x636E;&#x6E90;DataSource</p>
<ul>
<li>JdbcTemplate template = new JdbcTemplate(ds);</li>
</ul>
</li>
<li><p>&#x8C03;&#x7528;JdbcTemplate&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x5B8C;&#x6210;CRUD&#x7684;&#x64CD;&#x4F5C;</p>
<ul>
<li>update():&#x6267;&#x884C;DML&#x8BED;&#x53E5;&#x3002;&#x589E;&#x3001;&#x5220;&#x3001;&#x6539;&#x8BED;&#x53E5;</li>
<li>queryForMap():&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x5C06;&#x7ED3;&#x679C;&#x96C6;&#x5C01;&#x88C5;&#x4E3A;map&#x96C6;&#x5408;&#xFF0C;&#x5C06;&#x5217;&#x540D;&#x4F5C;&#x4E3A;key&#xFF0C;&#x5C06;&#x503C;&#x4F5C;&#x4E3A;value &#x5C06;&#x8FD9;&#x6761;&#x8BB0;&#x5F55;&#x5C01;&#x88C5;&#x4E3A;&#x4E00;&#x4E2A;map&#x96C6;&#x5408;<ul>
<li>&#x6CE8;&#x610F;&#xFF1A;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x679C;&#x96C6;&#x957F;&#x5EA6;&#x53EA;&#x80FD;&#x662F;1</li>
</ul>
</li>
<li>queryForList():&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x5C06;&#x7ED3;&#x679C;&#x96C6;&#x5C01;&#x88C5;&#x4E3A;list&#x96C6;&#x5408;<ul>
<li>&#x6CE8;&#x610F;&#xFF1A;&#x5C06;&#x6BCF;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#x5C01;&#x88C5;&#x4E3A;&#x4E00;&#x4E2A;Map&#x96C6;&#x5408;&#xFF0C;&#x518D;&#x5C06;Map&#x96C6;&#x5408;&#x88C5;&#x8F7D;&#x5230;List&#x96C6;&#x5408;&#x4E2D;</li>
</ul>
</li>
<li>query():&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#xFF0C;&#x5C06;&#x7ED3;&#x679C;&#x5C01;&#x88C5;&#x4E3A;JavaBean&#x5BF9;&#x8C61;<ul>
<li>query&#x7684;&#x53C2;&#x6570;&#xFF1A;RowMapper<ul>
<li>&#x4E00;&#x822C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;BeanPropertyRowMapper&#x5B9E;&#x73B0;&#x7C7B;&#x3002;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#x6570;&#x636E;&#x5230;JavaBean&#x7684;&#x81EA;&#x52A8;&#x5C01;&#x88C5;</li>
<li>new BeanPropertyRowMapper&lt;&#x7C7B;&#x578B;&gt;(&#x7C7B;&#x578B;.class)</li>
</ul>
</li>
</ul>
</li>
<li>queryForObject&#xFF1A;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#xFF0C;&#x5C06;&#x7ED3;&#x679C;&#x5C01;&#x88C5;&#x4E3A;&#x5BF9;&#x8C61;<ul>
<li>&#x4E00;&#x822C;&#x7528;&#x4E8E;&#x805A;&#x5408;&#x51FD;&#x6570;&#x7684;&#x67E5;&#x8BE2;</li>
</ul>
</li>
</ul>
</li>
<li><p>&#x7EC3;&#x4E60;&#xFF1A;</p>
<ul>
<li><p>&#x9700;&#x6C42;&#xFF1A;</p>
<ol>
<li>&#x4FEE;&#x6539;1&#x53F7;&#x6570;&#x636E;&#x7684; salary &#x4E3A; 10000</li>
<li>&#x6DFB;&#x52A0;&#x4E00;&#x6761;&#x8BB0;&#x5F55;</li>
<li>&#x5220;&#x9664;&#x521A;&#x624D;&#x6DFB;&#x52A0;&#x7684;&#x8BB0;&#x5F55;</li>
<li>&#x67E5;&#x8BE2;id&#x4E3A;1&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x5C06;&#x5176;&#x5C01;&#x88C5;&#x4E3A;Map&#x96C6;&#x5408;</li>
<li>&#x67E5;&#x8BE2;&#x6240;&#x6709;&#x8BB0;&#x5F55;&#xFF0C;&#x5C06;&#x5176;&#x5C01;&#x88C5;&#x4E3A;List</li>
<li>&#x67E5;&#x8BE2;&#x6240;&#x6709;&#x8BB0;&#x5F55;&#xFF0C;&#x5C06;&#x5176;&#x5C01;&#x88C5;&#x4E3A;Emp&#x5BF9;&#x8C61;&#x7684;List&#x96C6;&#x5408;</li>
<li>&#x67E5;&#x8BE2;&#x603B;&#x8BB0;&#x5F55;&#x6570;</li>
</ol>
</li>
<li><p>&#x4EE3;&#x7801;&#xFF1A;
```java
import cn.itcast.domain.Emp;
import cn.itcast.utils.JDBCUtils;
import org.junit.Test;
import org.springframework.jdbc.core.BeanPropertyRowMapper;
import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.core.RowMapper;</p>
</li>
</ul>
</li>
</ul>
<p>import java.sql.Date;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.List;
import java.util.Map;</p>
<p>public class JdbcTemplateDemo2 {</p>
<pre><code>//Junit&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#xFF0C;&#x53EF;&#x4EE5;&#x8BA9;&#x65B9;&#x6CD5;&#x72EC;&#x7ACB;&#x6267;&#x884C;
</code></pre><p>&#x200B;<br>    //1. &#x83B7;&#x53D6;JDBCTemplate&#x5BF9;&#x8C61;
    private JdbcTemplate template = new JdbcTemplate(JDBCUtils.getDataSource());
    /**</p>
<pre><code>  * 1. &#x4FEE;&#x6539;1&#x53F7;&#x6570;&#x636E;&#x7684; salary &#x4E3A; 10000
  */
@Test
public void test1(){

    //2. &#x5B9A;&#x4E49;sql
    String sql = &quot;update emp set salary = 10000 where id = 1001&quot;;
    //3. &#x6267;&#x884C;sql
    int count = template.update(sql);
    System.out.println(count);
}

/**
  * 2. &#x6DFB;&#x52A0;&#x4E00;&#x6761;&#x8BB0;&#x5F55;
  */
@Test
public void test2(){
    String sql = &quot;insert into emp(id,ename,dept_id) values(?,?,?)&quot;;
    int count = template.update(sql, 1015, &quot;&#x90ED;&#x9756;&quot;, 10);
    System.out.println(count);

}

/**
  * 3.&#x5220;&#x9664;&#x521A;&#x624D;&#x6DFB;&#x52A0;&#x7684;&#x8BB0;&#x5F55;
  */
@Test
public void test3(){
    String sql = &quot;delete from emp where id = ?&quot;;
    int count = template.update(sql, 1015);
    System.out.println(count);
}

/**
  * 4.&#x67E5;&#x8BE2;id&#x4E3A;1001&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x5C06;&#x5176;&#x5C01;&#x88C5;&#x4E3A;Map&#x96C6;&#x5408;
  * &#x6CE8;&#x610F;&#xFF1A;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x679C;&#x96C6;&#x957F;&#x5EA6;&#x53EA;&#x80FD;&#x662F;1
  */
@Test
public void test4(){
    String sql = &quot;select * from emp where id = ? or id = ?&quot;;
    Map&lt;String, Object&gt; map = template.queryForMap(sql, 1001,1002);
    System.out.println(map);
    //{id=1001, ename=&#x5B59;&#x609F;&#x7A7A;, job_id=4, mgr=1004, joindate=2000-12-17, salary=10000.00, bonus=null, dept_id=20}

}

/**
  * 5. &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x8BB0;&#x5F55;&#xFF0C;&#x5C06;&#x5176;&#x5C01;&#x88C5;&#x4E3A;List
  */
@Test
public void test5(){
    String sql = &quot;select * from emp&quot;;
    List&lt;Map&lt;String, Object&gt;&gt; list = template.queryForList(sql);

    for (Map&lt;String, Object&gt; stringObjectMap : list) {
        System.out.println(stringObjectMap);
    }
}

/**
  * 6. &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x8BB0;&#x5F55;&#xFF0C;&#x5C06;&#x5176;&#x5C01;&#x88C5;&#x4E3A;Emp&#x5BF9;&#x8C61;&#x7684;List&#x96C6;&#x5408;
  */

@Test
public void test6(){
    String sql = &quot;select * from emp&quot;;
    List&lt;Emp&gt; list = template.query(sql, new RowMapper&lt;Emp&gt;() {

        @Override
        public Emp mapRow(ResultSet rs, int i) throws SQLException {
            Emp emp = new Emp();
            int id = rs.getInt(&quot;id&quot;);
            String ename = rs.getString(&quot;ename&quot;);
            int job_id = rs.getInt(&quot;job_id&quot;);
            int mgr = rs.getInt(&quot;mgr&quot;);
            Date joindate = rs.getDate(&quot;joindate&quot;);
            double salary = rs.getDouble(&quot;salary&quot;);
            double bonus = rs.getDouble(&quot;bonus&quot;);
            int dept_id = rs.getInt(&quot;dept_id&quot;);

            emp.setId(id);
            emp.setEname(ename);
            emp.setJob_id(job_id);
            emp.setMgr(mgr);
            emp.setJoindate(joindate);
            emp.setSalary(salary);
            emp.setBonus(bonus);
            emp.setDept_id(dept_id);

            return emp;
        }
    });
</code></pre><p>&#x200B;<br>        for (Emp emp : list) {
            System.out.println(emp);
        }
    }</p>
<pre><code>/**
  * 6. &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x8BB0;&#x5F55;&#xFF0C;&#x5C06;&#x5176;&#x5C01;&#x88C5;&#x4E3A;Emp&#x5BF9;&#x8C61;&#x7684;List&#x96C6;&#x5408;
  */

@Test
public void test6_2(){
    String sql = &quot;select * from emp&quot;;
    List&lt;Emp&gt; list = template.query(sql, new BeanPropertyRowMapper&lt;Emp&gt;(Emp.class));
    for (Emp emp : list) {
        System.out.println(emp);
    }
}

/**
  * 7. &#x67E5;&#x8BE2;&#x603B;&#x8BB0;&#x5F55;&#x6570;
  */

@Test
public void test7(){
    String sql = &quot;select count(id) from emp&quot;;
    Long total = template.queryForObject(sql, Long.class);
    System.out.println(total);
}
</code></pre><p>}
```</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="README.md" class="navigation navigation-prev " aria-label="Previous page: 101">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Java_函数式编程.html" class="navigation navigation-next " aria-label="Next page: Java 函数式编程">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Jdbc与连接池","level":"3.1.1","depth":2,"next":{"title":"Java 函数式编程","level":"3.1.2","depth":2,"path":"java-ways/101/Java_函数式编程.md","ref":"java-ways/101/Java_函数式编程.md","articles":[]},"previous":{"title":"101","level":"3.1","depth":1,"path":"java-ways/101/README.md","ref":"java-ways/101/README.md","articles":[{"title":"Jdbc与连接池","level":"3.1.1","depth":2,"path":"java-ways/101/JDBC与连接池.md","ref":"java-ways/101/JDBC与连接池.md","articles":[]},{"title":"Java 函数式编程","level":"3.1.2","depth":2,"path":"java-ways/101/Java_函数式编程.md","ref":"java-ways/101/Java_函数式编程.md","articles":[]},{"title":"Spring框架基础","level":"3.1.3","depth":2,"path":"java-ways/101/Spring框架基础.md","ref":"java-ways/101/Spring框架基础.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"java-ways/101/JDBC与连接池.md","mtime":"2020-10-07T09:04:06.053Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-10-07T12:39:18.276Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

